
function t_throttle(fn, threshhold, scope) {
  var last;
  var deferTimer;
  threshhold || (threshhold = 250);
  return function () {
    var context = scope || this;
    var now = +new Date();
    var args = arguments;
    if (last && now < last + threshhold) {
      clearTimeout(deferTimer);
      deferTimer = setTimeout(function () {
        last = now;
        fn.apply(context, args);
      }, threshhold);
    } else {
      last = now;
      fn.apply(context, args);
    }
  };
}
function t668_init(recId) {
  var rec = document.getElementById("rec" + recId);
  if (!rec) return;
  var container = rec.querySelector(".t668");
  if (!container) return;
  var accordion = rec.querySelectorAll(".t668__accordion")[0];
  var headers = rec.querySelectorAll(".t668__header");
  var isLazy = document
    .getElementById("allrecords")
    .getAttribute("data-tilda-lazy");
  var contentStyle = getComputedStyle(
    rec.querySelector(".t668__content"),
    null
  );
  var oldStyle = {
    paddingTop: contentStyle.paddingTop,
    paddingBottom: contentStyle.paddingBottom,
  };
  if (accordion) {
    accordion = accordion.getAttribute("data-accordion");
  } else {
    accordion = "false";
  }
  for (var i = 0; i < headers.length; i++) {
    headers[i].addEventListener("click", function () {
      var element = this;
      var container = element.nextElementSibling;
      if (element.classList.contains("t668__opened")) {
        element.classList.remove("t668__opened");
        t668_accordionHide(container);
      } else {
        if (accordion === "true") {
          t668_accordionAllHide(headers);
        }
        element.classList.add("t668__opened");
        container.style.display = "block";
        var height = container.scrollHeight;
        container.style.maxHeight = "0px";
        setTimeout(function () {
          container.style.maxHeight = height + "px";
          container.setAttribute(
            "style",
            t668_addStyle(container) +
              " padding-top: " +
              oldStyle.paddingTop +
              "; padding-bottom: " +
              oldStyle.paddingBottom +
              ";"
          );
        }, 0);
      }
      if (window.lazy === "y" || isLazy === "yes") {
        t_onFuncLoad("t_lazyload_update", function () {
          t_lazyload_update();
        });
      }
    });
  }
}
function t668_accordionAllHide(headers) {
  for (var i = 0; i < headers.length; i++) {
    var elementHide = headers[i];
    elementHide.classList.remove("t668__opened");
    t668_accordionHide(elementHide.nextElementSibling);
  }
}
function t668_accordionHide(container) {
  if (!container.style.maxHeight)
    container.style.maxHeight = container.scrollHeight + "px";
  setTimeout(function () {
    container.style.maxHeight = 0;
    container.setAttribute(
      "style",
      t668_addStyle(container) +
        " padding-top: 0px !important; padding-bottom: 0px !important;"
    );
  }, 0);
}
function t668_addStyle(container) {
  var attrStyle = container.getAttribute("style");
  var arrStyle = attrStyle.split(";");
  var newArr = [];
  for (var i = 0; i < arrStyle.length; i++) {
    var style = arrStyle[i];
    if (
      style.indexOf("padding-top") === -1 &&
      style.indexOf("padding-bottom") === -1
    ) {
      newArr.push(style);
    }
  }
  return newArr.join(";");
}
function t706_onSuccessCallback() {
  var products = document.querySelector(".t706__cartwin-products");
  var cartBottom = document.querySelector(".t706__cartwin-bottom");
  var cartForm = document.querySelector(".t706 .t-form__inputsbox");
  if (products) t706_slideUp(products, 10);
  if (cartBottom) t706_slideUp(cartBottom, 10);
  if (cartForm) t706_slideUp(cartForm, 700);
  try {
    tcart__unlockScroll();
  } catch (error) {}
}
function t706_slideUp(target, duration) {
  if (!target) return;
  if (!duration && duration !== 0) duration = 500;
  target.style.transitionProperty = "height, margin, padding";
  target.style.transitionDuration = duration + "ms";
  target.style.boxSizing = "border-box";
  target.style.height = target.offsetHeight + "px";
  target.style.overflow = "hidden";
  target.style.height = "0";
  target.style.paddingTop = "0";
  target.style.paddingBottom = "0";
  target.style.marginTop = "0";
  target.style.marginBottom = "0";
  setTimeout(function () {
    target.style.display = "none";
    target.style.height = "";
    target.style.paddingTop = "";
    target.style.paddingBottom = "";
    target.style.marginTop = "";
    target.style.marginBottom = "";
    target.style.overflow = "";
    target.style.transitionDuration = "";
    target.style.transitionProperty = "";
  }, duration);
}
function t456_setListMagin(recid, imglogo) {
  var rec = document.getElementById("rec" + recid);
  if (!rec || window.innerWidth <= 980) return;
  var menu = rec.querySelector(".t456");
  var leftSide = menu ? menu.querySelector(".t456__leftwrapper") : null;
  var list = menu ? menu.querySelector(".t456__list") : null;
  var leftSideWidth = leftSide ? leftSide.offsetWidth : 0;
  if (list)
    list.style.marginRight =
      (imglogo ? leftSideWidth : leftSideWidth + 30) + "px";
}
